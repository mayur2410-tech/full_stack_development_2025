1. **GET** `/api/companies`

   * Purpose: Return all companies.
   * Inputs: none (optional `?limit=10&page=1`).
   * Example: `curl http://localhost:3000/api/companies`

2. **POST** `/api/companies`

   * Purpose: Insert one company document.
   * Inputs: JSON body (at least `{ name, location }`).
   * Example: `curl -X POST -H "Content-Type: application/json" -d '{"name":"Tesla","location":"Bangalore"}' http://localhost:3000/api/companies`
\
3. **GET** `/api/companies/search`

   * Purpose: Simple query helper: `?city=Hyderabad&minBase=30`
   * Inputs: query params `city`, `minBase`, `skill` (optional).
   * Example: `curl "http://localhost:3000/api/companies/search?city=Bangalore&minBase=25"`

4. **GET** `/api/companies/paginate`

   * Purpose: Pagination support: `?page=1&limit=10`
   * Inputs: `page`, `limit`.
   * Example: `curl "http://localhost:3000/api/companies/paginate?page=2&limit=5"`

5. **GET** `/api/companies/count`

   * Purpose: Return `total` number of companies and optional counts by `location`.
   * Inputs: none or `?location=Bangalore`
   * Example: `curl http://localhost:3000/api/companies/count`

6. **GET** `/api/companies/[id]`  (dynamic)

   * Purpose: Get single company by `_id`.
   * Inputs: path param `id`.
   * Example: `curl http://localhost:3000/api/companies/64a...`

7. **PUT** `/api/companies/[id]`  (dynamic)

   * Purpose: Update company fields by id (partial updates via `$set`).
   * Inputs: path param `id`, JSON body with fields to update.
   * Example: `curl -X PUT -H "Content-Type: application/json" -d '{"headcount":2200}' http://localhost:3000/api/companies/<id>`

8. **DELETE** `/api/companies/[id]`  (dynamic)

   * Purpose: Delete a company by id.
   * Inputs: path param `id`.
   * Example: `curl -X DELETE http://localhost:3000/api/companies/<id>`

9. **POST** `/api/companies/bulk`

   * Purpose: Insert many companies at once (`insertMany`) â€” useful for seeding test data.
   * Inputs: JSON array in body.
   * Example: `curl -X POST -H "Content-Type: application/json" -d '[{...},{...}]' http://localhost:3000/api/companies/bulk`

10. **PATCH** `/api/companies/[id]/add-benefit`

    * Purpose: Push a new benefit to `benefits` array (`$addToSet` or `$push`).
    * Inputs: path `id`, body `{ benefit: "WFH" }`.
    * Example: `curl -X PATCH -H "Content-Type: application/json" -d '{"benefit":"WFH"}' http://localhost:3000/api/companies/<id>/add-benefit`

11. **PATCH** `/api/companies/[id]/push-round`

    * Purpose: Push an interview round to `interviewRounds` (array).
    * Inputs: body `{ round: 5, type: "CTO Interview" }`.
    * Example: `curl -X PATCH -H "Content-Type: application/json" -d '{"round":5,"type":"CTO Interview"}' http://localhost:3000/api/companies/<id>/push-round`

12. **GET** `/api/companies/text-search`

    * Purpose: Full-text (or simple regex) search on `name` or `hiringCriteria.skills`.
    * Inputs: `?q=system` or `?skill=Java`.
    * Example: `curl "http://localhost:3000/api/companies/text-search?q=design"`

---

## How these map to Next.js App Router folders

Place files like:

```
src/app/api/companies/route.js                // handles GET (1), POST (2)
src/app/api/companies/search/route.js         // handles GET (3)
src/app/api/companies/paginate/route.js       // handles GET (4)
src/app/api/companies/count/route.js          // handles GET (5)
src/app/api/companies/bulk/route.js           // handles POST (9)
src/app/api/companies/text-search/route.js    // handles GET (12)

src/app/api/companies/[id]/route.js           // handles GET (6), PUT (7), DELETE (8)
src/app/api/companies/[id]/add-benefit/route.js   // PATCH (10)
src/app/api/companies/[id]/push-round/route.js    // PATCH (11)
```
