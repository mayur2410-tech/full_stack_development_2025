# Event Handling in Java Applets


***

## What is Event Handling?

Event handling in Java applets refers to the process of writing code that responds to different user or system events such as mouse actions and keyboard inputs. Events trigger corresponding methods where interaction logic is implemented.

***

## Event Sources and Listeners

- **Event Source:** Object generating event (mouse, keyboard, buttons).
- **Event Listener:** Implements interfaces that provide methods to respond to specific event types.
- **Event Object:** Contains event-specific information passed to listener methods.

***

## Key Event Types in Java Applets

### 1. Mouse Events

Mouse events capture user interactions with the mouse like clicks and movement.


| Event | Listener Method | What it Does |
| :-- | :-- | :-- |
| Mouse Clicked | `mouseClicked()` | Detects mouse button press and release |
| Mouse Pressed | `mousePressed()` | Detects mouse button press |
| Mouse Released | `mouseReleased()` | Detects button release |
| Mouse Entered | `mouseEntered()` | Mouse pointer enters applet/component area |
| Mouse Exited | `mouseExited()` | Mouse pointer leaves applet/component area |


***

#### Example: Using `mouseClicked()` in an Applet

```java
public void mouseClicked(MouseEvent e) {
    int x = e.getX();
    int y = e.getY();
    System.out.println("Mouse clicked at coordinates: (" + x + "," + y + ")");
}
```

- When the user clicks inside the applet, the method prints the location.

***
# Java Applet: Mouse and Key Event Handling Example


***

### Applet Source Code File: `EventHandlingApplet.java`

```java
import java.applet.Applet;
import java.awt.Graphics;
import java.awt.event.MouseListener;
import java.awt.event.KeyListener;
import java.awt.event.MouseEvent;
import java.awt.event.KeyEvent;

public class EventHandlingApplet extends Applet implements MouseListener, KeyListener {
    String message = "";  // Display messages for events
    int x = 20, y = 20;  // Coordinates for display
    
    public void init() {
        // Register this applet as a listener for mouse and keyboard events
        addMouseListener(this);
        addKeyListener(this);
        setFocusable(true);    // Allow applet to receive key events
    }
    
    // Draw the current message on the applet window
    public void paint(Graphics g) {
        g.drawString(message, x, y);
    }
    
    // MouseListener methods
    public void mouseClicked(MouseEvent e) {
        x = e.getX();
        y = e.getY();
        message = "Mouse clicked at (" + x + ", " + y + ")";
        repaint();  // Request paint method to refresh display
    }
    
    public void mousePressed(MouseEvent e) { }
    public void mouseReleased(MouseEvent e) { }
    public void mouseEntered(MouseEvent e) { }
    public void mouseExited(MouseEvent e) { }
    
    // KeyListener methods
    public void keyPressed(KeyEvent e) {
        int keyCode = e.getKeyCode();
        message = "Key pressed: " + KeyEvent.getKeyText(keyCode);
        repaint();
    }
    
    public void keyReleased(KeyEvent e) { }
    public void keyTyped(KeyEvent e) { }
}
```


***

### How It Works:

- When the **mouse is clicked** inside the applet area, the applet records the (x,y) coordinate of the mouse pointer and updates the displayed message accordingly.
- When **any keyboard key is pressed** while the applet has focus, the applet displays the key name pressed.
- The call to `repaint()` triggers the `paint` method to update the display.
- The applet registers itself as a listener to both mouse and keyboard events in `init()`. The `setFocusable(true)` call enables keyboard event detection.

***

### Visual Project Structure:

```
EventHandlingAppletProject/
├── EventHandlingApplet.java     # Java source containing event listener implementations
└── EventHandlingApplet.html     # HTML file to embed applet
```


***

### Embedding HTML (EventHandlingApplet.html)

```html
<html>
<body>
    <applet code="EventHandlingApplet.class" width="400" height="300">
        Your browser does not support Java Applets.
    </applet>
</body>
</html>
```


***

### Running:

1. Compile the Java file:
```bash
javac EventHandlingApplet.java
```

2. Run the applet in applet viewer:
```bash
appletviewer EventHandlingApplet.html
```


***


### 2. Key Events

Key events track keyboard actions.


| Event | Listener Method | What it Does |
| :-- | :-- | :-- |
| Key Pressed | `keyPressed()` | Detects key press |
| Key Released | `keyReleased()` | Detects key release |
| Key Typed | `keyTyped()` | Detects character input (key press + release) |


***

#### Example: Using `keyPressed()` in an Applet

```java
public void keyPressed(KeyEvent e) {
    int keyCode = e.getKeyCode();
    System.out.println("Key pressed with keycode: " + keyCode);
}
```

- Prints the keycode of the key pressed (e.g., arrow keys, letters).

***

## Listener Interfaces and Method Registration

- Implement `MouseListener`, `MouseMotionListener`, and/or `KeyListener`.
- Register listeners in the applet, for example, inside the `init()` method:

```java
addMouseListener(this);
addKeyListener(this);
```

- This allows the applet to receive and handle events.

***

## Visual Folder Structure and Sample Files

```
AppletEventProject/
├── AppletEvent.java         # Java source file implementing event listeners
└── AppletEvent.html         # HTML file embedding the applet and specifying parameters
```


***

### Sample HTML Embedding Applet:

```html
<html>
<body>
    <applet code="AppletEvent.class" width="300" height="200">
        Your browser does not support Java Applets.
    </applet>
</body>
</html>
```


***
### Java Applet Source: `EventHandlingApplet.java`

```java
import java.applet.Applet;
import java.awt.Graphics;
import java.awt.event.MouseListener;
import java.awt.event.KeyListener;
import java.awt.event.MouseEvent;
import java.awt.event.KeyEvent;

public class EventHandlingApplet extends Applet implements MouseListener, KeyListener {
    String message = "";
    int x = 20, y = 20;

    public void init() {
        addMouseListener(this);
        addKeyListener(this);
        setFocusable(true);
    }

    public void paint(Graphics g) {
        g.drawString(message, x, y);
    }

    public void mouseClicked(MouseEvent e) {
        x = e.getX();
        y = e.getY();
        message = "Mouse clicked at (" + x + ", " + y + ")";
        repaint();
    }

    public void mousePressed(MouseEvent e) { }
    public void mouseReleased(MouseEvent e) { }
    public void mouseEntered(MouseEvent e) { }
    public void mouseExited(MouseEvent e) { }

    public void keyPressed(KeyEvent e) {
        int keyCode = e.getKeyCode();
        message = "Key pressed: " + KeyEvent.getKeyText(keyCode);
        repaint();
    }

    public void keyReleased(KeyEvent e) { }
    public void keyTyped(KeyEvent e) { }
}
```


***

### Embedding HTML: `EventHandlingApplet.html`

```html
<html>
<body>
    <applet code="EventHandlingApplet.class" width="400" height="300">
        Your browser does not support Java Applets.
    </applet>
</body>
</html>
```


***

### Explanation:

- The applet listens for mouse clicks and key presses.
- On mouse click, it displays the click coordinates.
- On key press, it displays the name of the key pressed.
- The applet updates the display by calling `repaint()` which triggers the `paint()` method.

***

### Project Folder Structure

```
EventHandlingAppletProject/
├── EventHandlingApplet.java
└── EventHandlingApplet.html
```


***

### Compile and Run Commands

```bash
javac EventHandlingApplet.java
appletviewer EventHandlingApplet.html
```


***

## Summary

| Listener Interface | Key Methods | Event Kind | Typical Use |
| :-- | :-- | :-- | :-- |
| `MouseListener` | `mouseClicked()`, `mousePressed()`, etc. | Mouse button interactions | Detecting clicks, enter, exit |
| `MouseMotionListener` | `mouseMoved()`, `mouseDragged()` | Mouse movement | Tracking drag or mouse move |
| `KeyListener` | `keyPressed()`, `keyReleased()`, `keyTyped()` | Keyboard input | Handling user keyboard inputs |


***